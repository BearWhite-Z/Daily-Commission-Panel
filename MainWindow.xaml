<Window x:Class="DailyOrderPanel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DailyOrderPanel"
        mc:Ignorable="d"
        Title="DOPÊØèÊó•ÂßîÊâòÈù¢Êùø"
        Background="#FFFFFF"
        WindowStyle="None"
        AllowsTransparency="True"
        WindowStartupLocation="CenterScreen"
        WindowState="Normal"
        SnapsToDevicePixels="True"
        RenderOptions.BitmapScalingMode="HighQuality"
        RenderOptions.ClearTypeHint="Enabled"
        TextOptions.TextFormattingMode="Display"
        TextOptions.TextRenderingMode="ClearType">
    <Window.Resources>
        <Style x:Key="TitleTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{DynamicResource TextColor}"/>
        </Style>
        <Style x:Key="SubtitleTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Foreground" Value="{DynamicResource SecondaryTextColor}"/>
        </Style>
    </Window.Resources>
    <!-- Ê†πÂÆπÂô® -->
    <Grid>
        <!-- ËìùËâ≤È°∂ÈÉ®Âå∫Âüü - ÂåÖÂê´Á™óÂè£ÊéßÂà∂ÊåâÈíÆÂíåÊ†áÈ¢òÊ†è -->
        <Border x:Name="Header" Height="90" VerticalAlignment="Top" Background="{DynamicResource HeaderBackgroundColor}" CornerRadius="15,15,0,0" MouseDown="Window_MouseDown" ClipToBounds="True">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Á™óÂè£ÊéßÂà∂ÊåâÈíÆÂå∫Âüü -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,5,10,0" VerticalAlignment="Top">
                    <Button x:Name="MinimizeBtn" Content="‚Äî" Width="30" Height="30" Background="Transparent" BorderThickness="0" Click="MinimizeBtn_Click" Foreground="{DynamicResource TextColor}" FontSize="16" FontFamily="Segoe UI Symbol" Padding="0" ToolTip="ÊúÄÂ∞èÂåñ"/>
                    <Button x:Name="MaximizeBtn" Content="‚§¢" Width="30" Height="30" Background="Transparent" BorderThickness="0" Click="MaximizeBtn_Click" Foreground="{DynamicResource TextColor}" FontSize="12" FontFamily="Segoe UI Symbol" Padding="0" ToolTip="ÊúÄÂ§ßÂåñ"/>
                    <Button x:Name="FullScreenBtn" Content="‚ñ°" Width="30" Height="30" Background="Transparent" BorderThickness="0" Click="FullScreenBtn_Click" Foreground="{DynamicResource TextColor}" FontSize="14" FontFamily="Segoe UI Symbol" Padding="0" ToolTip="ÂÖ®Â±è"/>
                    <Button x:Name="CloseBtn" Content="‚úï" Width="30" Height="30" Background="Transparent" BorderThickness="0" Click="CloseBtn_Click" Foreground="{DynamicResource TextColor}" FontSize="16" FontFamily="Segoe UI Symbol" Padding="0" ToolTip="ÂÖ≥Èó≠"/>
                </StackPanel>

                <!-- Â∑¶‰æß‰ø°ÊÅØ -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="30,40,0,0" VerticalAlignment="Top">
                    <TextBlock Text="Áé∞Âú®ÊòØËá™‰π†Êó∂Èó¥" FontSize="20" Foreground="White"/>
                    <TextBlock Text="ü§´" FontSize="28"/>

                    <StackPanel Orientation="Horizontal">
                        <!-- ÂΩìÂâçÊó∂Èó¥ -->
                        <Border Background="{DynamicResource TimerBackgroundColor}" CornerRadius="8" Padding="15,10,15,10">
                            <StackPanel>
                                <TextBlock Text="ÂΩìÂâçÊó∂Èó¥" FontSize="14" Foreground="{DynamicResource TimerLabelColor}" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="CurrentTimeText" FontSize="22" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" Text="{Binding CurrentTime}"/>
                            </StackPanel>
                        </Border>

                        <!-- Ââ©‰ΩôÊó∂Èó¥ -->
                        <Border Background="{DynamicResource TimerBackgroundColor}" CornerRadius="8" Padding="15,10,15,10">
                            <StackPanel>
                                <TextBlock Text="Ââ©‰ΩôÊó∂Èó¥" FontSize="14" Foreground="{DynamicResource TimerLabelColor}" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="CountdownText" FontSize="22" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" Text="{Binding Countdown}"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </StackPanel>

                <!-- Âè≥‰æßÊåâÈíÆ -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,40,30,0" VerticalAlignment="Top">
                    <Button x:Name="StudentBtn" Style="{DynamicResource NavButtonStyle}" Click="StudentBtn_Click">Â≠¶ÁîüÁ´Ø</Button>
                    <Button x:Name="TeacherBtn" Style="{DynamicResource NavButtonStyle}" Click="TeacherBtn_Click">ÊïôÂ∏àÁ´Ø</Button>
                    <Button x:Name="ThemeToggle" Style="{DynamicResource NavButtonStyle}" Click="ThemeToggle_Click">ÂàáÊç¢‰∏ªÈ¢ò</Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü - ÁôΩËâ≤ËÉåÊôØÂ∏¶Â∫ïÈÉ®ÂúÜËßí -->
        <Border CornerRadius="0,0,15,15" Background="#FFFFFF" ClipToBounds="True" Margin="0,90,0,30">
            <Grid>
                <!-- Â≠¶ÁîüÁ´ØÈ°µÈù¢ -->
                <Grid x:Name="MainContent">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Â∑¶‰æßËßÑÂàôÂå∫Âüü -->
                        <Border Grid.Column="0" Margin="20" Background="{DynamicResource PanelBackgroundColor}" CornerRadius="12" Padding="20" Width="280">
                            <StackPanel>
                                <TextBlock Text="Ëá™‰π†ÂÆàÂàô" Style="{StaticResource TitleTextStyle}" Margin="0,0,0,20"/>
                                <ListBox ItemsSource="{Binding Rules}" Background="Transparent" BorderThickness="0" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding}" Margin="0,0,0,12" TextWrapping="Wrap" FontSize="16"/>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>

                                <!-- Ëá™ÂÆö‰πâÂõæÁâáÂå∫Âüü -->
                                <Border Margin="0,20,0,0" BorderBrush="{DynamicResource BorderColor}" BorderThickness="1" CornerRadius="10" Height="180">
                                    <Grid Background="{DynamicResource ImagePlaceholderBackgroundColor}" VerticalAlignment="Stretch">
                                        <Image x:Name="CustomImage" HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform"/>
                                        <TextBlock x:Name="NoImageText" Text="ÊöÇÊó†ÂõæÁâáÊèêÁ§∫" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{DynamicResource PlaceholderTextColor}" FontStyle="Italic" FontSize="15"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Âè≥‰æß‰Ωú‰∏öÂå∫Âüü -->
                        <Border Grid.Column="1" Margin="10,20,20,20" Background="{DynamicResource PanelBackgroundColor}" CornerRadius="12" Padding="20">
                            <StackPanel>
                                <TextBlock Text="‰ªäÊó•‰Ωú‰∏ö" Style="{StaticResource TitleTextStyle}" Margin="0,0,0,20"/>
                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                    <ItemsControl x:Name="HomeworkList" ItemsSource="{Binding HomeworkItems}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel Orientation="Horizontal" ItemWidth="300" ItemHeight="Auto"/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Style="{DynamicResource CardStyle}" Width="300" Height="Auto">
                                                <StackPanel>
                                                    <Border BorderBrush="{DynamicResource BorderColor}" BorderThickness="0,0,0,2" Margin="0,0,0,15" Padding="0,15,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding Icon}" FontSize="28" Margin="0,0,15,0"/>
                                    <TextBlock Text="{Binding Subject}" FontSize="22" FontWeight="Bold" Foreground="{Binding SubjectColor}"/>
                                </StackPanel>
                            </Border>
                                                    <TextBlock Text="{Binding Content}" FontSize="28" TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                                </ScrollViewer>
                            </StackPanel>
                        </Border>
                </Grid>

                <!-- ÊïôÂ∏àÁ´ØÈ°µÈù¢ -->
                <Grid x:Name="TeacherPage" Visibility="Collapsed">
                <Border Margin="10" Background="{DynamicResource PanelBackgroundColor}" CornerRadius="10" Padding="15">
                <ScrollViewer>
                    <StackPanel>
                        <TextBlock Text="Â∏ÉÁΩÆ‰Ωú‰∏ö" FontSize="20" FontWeight="Bold"/>

                        <!-- ÁßëÁõÆÈÄâÊã© -->
                        <StackPanel>
                            <TextBlock Text="ÈÄâÊã©ÁßëÁõÆ" FontSize="15" FontWeight="Bold" Margin="0,0,0,10"/>
                            <ComboBox x:Name="SubjectComboBox" Width="300" Height="30" FontSize="15">
                                <ComboBoxItem Content="ËØ≠Êñá"/>
                                <ComboBoxItem Content="Êï∞Â≠¶"/>
                                <ComboBoxItem Content="Ëã±ËØ≠"/>
                                <ComboBoxItem Content="Áâ©ÁêÜ"/>
                                <ComboBoxItem Content="ÂåñÂ≠¶"/>
                                <ComboBoxItem Content="ÁîüÁâ©"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- ‰Ωú‰∏öÂÜÖÂÆπ -->
                        <StackPanel>
                            <TextBlock Text="‰Ωú‰∏öÂÜÖÂÆπ" FontSize="15" FontWeight="Bold" Margin="0,0,0,10"/>
                            <TextBox x:Name="HomeworkTextBox" Height="120" Width="500" FontSize="15" TextWrapping="Wrap" AcceptsReturn="True"/>
                        </StackPanel>

                        <!-- Êìç‰ΩúÊåâÈíÆ -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,0">
                            <Button x:Name="SubmitBtn" Content="Â∏ÉÁΩÆ‰Ωú‰∏ö" Style="{DynamicResource ActionButtonStyle}" Click="SubmitBtn_Click"/>
                            <Button x:Name="ClearBtn" Content="Ê∏ÖÁ©∫ÊâÄÊúâ" Style="{DynamicResource ClearButtonStyle}" Click="ClearBtn_Click"/>
                        </StackPanel>

                        <!-- ÂõæÁâá‰∏ä‰º†Âå∫Âüü -->
                        <Border Margin="0,10,0,0" Padding="15,0,0,0" BorderBrush="{DynamicResource BorderColor}" BorderThickness="1,1,0,0">
                            <StackPanel>
                                <TextBlock Text="‰∏ä‰º†ÊèêÁ§∫ÂõæÁâá" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                    <Button x:Name="UploadImageBtn" Content="ÈÄâÊã©ÂõæÁâá" Style="{DynamicResource ActionButtonStyle}" Click="UploadImageBtn_Click"/>
                                    <Button x:Name="ClearImageBtn" Content="Ê∏ÖÈô§ÂõæÁâá" Style="{DynamicResource ClearButtonStyle}" Click="ClearImageBtn_Click"/>
                                </StackPanel>
                                <TextBlock Text="‰∏ä‰º†ÁöÑÂõæÁâáÂ∞ÜÊòæÁ§∫Âú®Â≠¶ÁîüÁ´ØÂ∑¶‰∏ãËßí" FontSize="13" Margin="0,10,0,0" Foreground="{DynamicResource SecondaryTextColor}"/>
                            </StackPanel>

                        </Border>
                    
                        <!-- ÂØºÂÖ•ÂØºÂá∫ÊåâÈíÆ -->
                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                            <Button x:Name="ImportBtn" Content="ÂØºÂÖ•‰Ωú‰∏ö" Style="{DynamicResource ImportButtonStyle}" Click="ImportBtn_Click"/>
                            <Button x:Name="ExportBtn" Content="ÂØºÂá∫‰Ωú‰∏ö" Style="{DynamicResource ExportButtonStyle}" Click="ExportBtn_Click"/>
                        </StackPanel>
                        
                        <!-- Â∑≤Â∏ÉÁΩÆ‰Ωú‰∏ö -->
                        <Border Margin="0,10,0,0" Padding="15,0,0,0" BorderBrush="{DynamicResource BorderColor}" BorderThickness="1,1,0,0">
                        <StackPanel>
                            <TextBlock Text="Â∑≤Â∏ÉÁΩÆ‰Ωú‰∏ö" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <ItemsControl x:Name="HomeworkPreview" ItemsSource="{Binding HomeworkItems}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel Orientation="Horizontal" ItemWidth="240"/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Style="{DynamicResource CardStyle}" Width="240">
                                                <StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                                        <TextBlock Text="{Binding Icon}" FontSize="24" Margin="0,0,12,0"/>
                                                        <TextBlock Text="{Binding Subject}" FontSize="18" FontWeight="Bold" Foreground="{Binding SubjectColor}"/>
                                                    </StackPanel>
                                                    <TextBlock Text="{Binding Content}" FontSize="25" TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </ScrollViewer>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
        </Grid>
        
        <!-- Â∫ïÈÉ®Áä∂ÊÄÅÊ†è -->
        <Border Height="30" VerticalAlignment="Bottom" Background="{DynamicResource PanelBackgroundColor}" BorderBrush="{DynamicResource BorderColor}" BorderThickness="0,1,0,0">
            <Grid x:Name="Footer">
                <TextBlock x:Name="FooterText" Text="¬© 2025 DOPÊØèÊó•ÂßîÊâòÈù¢Êùø ZFTONYÂà∂ | ÁâàÊú¨ Beta0.3.7.1" FontSize="13" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{DynamicResource SecondaryTextColor}"/>
            </Grid>
        </Border>
    </Grid>
</Window>